<!-- hives_table.html -->
{% load custom_filters %}

<div>
    <a href="{% url 'add_hive' hives_place_id %}">Založit včelstvo</a>
</div>


<table>
    <thead>
        <tr>
            <th>Číslo včelstva</th>
            <th>Typ úlu</th>
            <th>Velikost</th>
            <th>Komentář</th>
            <th>Matka</th>
            <th>Poslední prohlídka</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for hive in hives %}
            <tr>
                <td>{{ hive.number }}</td>
                <td>{{ hive.type }}</td>
                <td>{{ hive.size }}</td>
                <td>{{ hive.comment }}</td>

                {# Přidání sloupce pro hodnotu 'mark' z tabulky 'Mother' #}
                {% if mothers_dict|get_name:hive.id is None %}
                    <td><a href="{% url 'add_mother' hive.id %}">Přidat</a></td>
                {% else %}
                    <td><a href="{% url 'mothers' mothers_dict|get_name:hive.id %}">{{hives_dict|get_name:hive.id }}</a></td>
                {% endif %}

                <td>{{ last_visits|get_name:hive.id|date:"d. m. Y" }}</td>
                <td><a href="{% url 'visits' hive.id %}">Zobrazit prohlídky</a></td>
            </tr>
        {% endfor %}
    </tbody>
</table>
